(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{5910:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>S});var t=n(95155),l=n(12115),i=n(37334),s=n(41218),r=n(16632),d=n(71116),u=n(5884),o=n(58985),c=n(83540),m=n(42832),v=n(94754),h=n(96025),x=n(52071),p=n(88301),j=n(77557);let C=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function y(e){let{data:a,selectedYearIndex:n,onYearChange:l}=e,i=a[n],y=i.monthlyRevenue.map((e,a)=>({name:C[a],value:e}));return(0,t.jsx)(s.A,{children:(0,t.jsxs)(r.A,{children:[(0,t.jsxs)(d.A,{variant:"h6",gutterBottom:!0,children:["Receita Mensal - ",i.yearLabel]}),(0,t.jsx)(u.A,{value:String(n),onChange:e=>{l(Number(e.target.value))},sx:{mb:2,minWidth:120},children:a.map((e,a)=>(0,t.jsx)(o.A,{value:String(a),children:e.yearLabel},e.yearLabel))}),(0,t.jsx)(c.u,{width:"100%",height:300,children:(0,t.jsxs)(m.b,{data:y,margin:{top:20,right:30,bottom:5,left:0},children:[(0,t.jsx)(v.d,{strokeDasharray:"3 3"}),(0,t.jsx)(h.W,{dataKey:"name"}),(0,t.jsx)(x.h,{}),(0,t.jsx)(p.m,{formatter:e=>"€".concat(e.toLocaleString())}),(0,t.jsx)(j.N,{type:"monotone",dataKey:"value",stroke:"#1976d2",strokeWidth:2})]})})]})})}function g(e){let{data:a}=e,n=a.map(e=>{let{annualRevenue:a,yearLabel:n}=e;return{name:n,value:a}});return(0,t.jsx)(s.A,{children:(0,t.jsxs)(r.A,{children:[(0,t.jsx)(d.A,{variant:"h6",gutterBottom:!0,children:"Receita Anual"}),(0,t.jsx)("div",{"data-testid":"annual-chart-container",children:(0,t.jsx)(c.u,{width:"100%",height:300,children:(0,t.jsxs)(m.b,{data:n,margin:{top:20,right:30,bottom:5,left:0},children:[(0,t.jsx)(v.d,{strokeDasharray:"3 3"}),(0,t.jsx)(h.W,{dataKey:"name"}),(0,t.jsx)(x.h,{}),(0,t.jsx)(p.m,{formatter:e=>"€".concat(e.toLocaleString())}),(0,t.jsx)(j.N,{type:"monotone",dataKey:"value",stroke:"#1976d2",strokeWidth:2})]})})})]})})}function b(e){let{title:a,value:n}=e;return(0,t.jsxs)("div",{className:"bg-white shadow-md p-4 rounded-md text-center",children:[(0,t.jsx)("p",{className:"text-gray-500",children:a}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:n.toLocaleString()})]})}let N=JSON.parse('[{"id":1,"name":"Cliente A","plan":"Premium","value":100},{"id":2,"name":"Cliente B","plan":"B\xe1sico","value":50},{"id":3,"name":"Cliente C","plan":"Standard","value":75},{"id":4,"name":"Cliente D","plan":"Premium","value":120},{"id":5,"name":"Cliente E","plan":"B\xe1sico","value":60},{"id":6,"name":"Cliente F","plan":"Standard","value":80},{"id":7,"name":"Cliente G","plan":"Premium","value":110},{"id":8,"name":"Cliente H","plan":"B\xe1sico","value":55},{"id":9,"name":"Cliente I","plan":"Standard","value":70},{"id":10,"name":"Cliente J","plan":"Premium","value":130},{"id":11,"name":"Cliente K","plan":"B\xe1sico","value":65},{"id":12,"name":"Cliente L","plan":"Standard","value":85},{"id":13,"name":"Cliente M","plan":"Premium","value":140},{"id":14,"name":"Cliente N","plan":"B\xe1sico","value":52},{"id":15,"name":"Cliente O","plan":"Standard","value":78},{"id":16,"name":"Cliente P","plan":"Premium","value":125},{"id":17,"name":"Cliente Q","plan":"B\xe1sico","value":58},{"id":18,"name":"Cliente R","plan":"Standard","value":90},{"id":19,"name":"Cliente S","plan":"Premium","value":135},{"id":20,"name":"Cliente T","plan":"B\xe1sico","value":62},{"id":21,"name":"Cliente U","plan":"Standard","value":82},{"id":22,"name":"Cliente V","plan":"Premium","value":115}]');var f=n(51368);function A(){let[e,a]=(0,l.useState)([]);return(0,l.useEffect)(()=>{a([...N].sort(()=>.5-Math.random()).slice(0,3).map(e=>({...e,_key:(0,f.A)()})));let e=setInterval(()=>{let e={...N[Math.floor(Math.random()*N.length)],_key:(0,f.A)()};a(a=>[e,...a].slice(0,3))},5e3);return()=>clearInterval(e)},[]),(0,t.jsx)("div",{className:"space-y-4 transition-all duration-700 ease-in-out",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white shadow-md p-4 rounded-md transition-opacity duration-700 ease-in-out opacity-100",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"text-gray-500",children:["Plano: ",e.plan]}),(0,t.jsxs)("p",{className:"text-green-600 font-bold",children:["€",e.value]})]},e._key))})}function S(){var e;let{billingData:a}=(0,i.d)(),[n,s]=(0,l.useState)(a.length-1),r=a.length>0?a[a.length-1]:{monthlyRevenue:[],annualRevenue:0,invoicesIssued:0,activeClients:0,yearLabel:""},d=null!=(e=a[n])?e:{monthlyRevenue:[],annualRevenue:0,invoicesIssued:0,activeClients:0,yearLabel:""};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex gap-8 mb-8 justify-center",children:[(0,t.jsx)(b,{title:"Faturas Emitidas (Ano Atual)",value:r.invoicesIssued}),(0,t.jsx)(b,{title:"Clientes Ativos (Ano Atual)",value:r.activeClients})]}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Lista de Clientes"}),(0,t.jsx)(A,{}),(0,t.jsxs)("div",{className:"p-8 space-y-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard de Fatura\xe7\xe3o"}),(0,t.jsxs)("div",{className:"flex gap-8 mb-8",children:[(0,t.jsx)(b,{title:"Faturas Emitidas (".concat(d.yearLabel,")"),value:d.invoicesIssued}),(0,t.jsx)(b,{title:"Clientes Ativos (".concat(d.yearLabel,")"),value:d.activeClients})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)(y,{data:a,selectedYearIndex:n,onYearChange:s}),(0,t.jsx)(g,{data:a})]})]})]})}},37334:(e,a,n)=>{"use strict";n.d(a,{BillingProvider:()=>r,d:()=>d});var t=n(95155),l=n(12115);let i=JSON.parse('[{"monthlyRevenue":[0,18000,16000,20000,19000,21000,23000,24000,22000,25000,27000,26000],"annualRevenue":246000,"invoicesIssued":1400,"activeClients":180,"yearLabel":"2020"},{"monthlyRevenue":[26000,12000,11000,14000,13000,15000,17000,18000,16000,19000,21000,20000],"annualRevenue":462000,"invoicesIssued":980,"activeClients":100,"yearLabel":"2021"},{"monthlyRevenue":[15000,12000,10000,11000,9000,12000,14000,13000,12000,14000,15000,16000],"annualRevenue":599000,"invoicesIssued":1100,"activeClients":120,"yearLabel":"2022"},{"monthlyRevenue":[22000,15000,13000,17000,16000,18000,20000,21000,19000,22000,24000,30000],"annualRevenue":825000,"invoicesIssued":1250,"activeClients":150,"yearLabel":"2023"}]'),s=(0,l.createContext)(void 0),r=e=>{let{children:a}=e,[n,r]=(0,l.useState)([]),[d,u]=(0,l.useState)(i);return(0,t.jsx)(s.Provider,{value:{clients:n,setClients:r,billingData:d,setBillingData:u},children:a})},d=()=>{let e=(0,l.useContext)(s);if(!e)throw Error("useBilling must be used within a BillingProvider");return e}},43145:(e,a,n)=>{Promise.resolve().then(n.bind(n,5910))}},e=>{e.O(0,[15,441,964,358],()=>e(e.s=43145)),_N_E=e.O()}]);