(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{79665:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>l});var s=r(95155),t=r(12115),i=r(26597),n=r(52699),d=r.n(n);function l(){let[e,a]=(0,t.useState)({name:"",nif:"",address:""}),[r,n]=(0,t.useState)([{description:"",quantity:1,price:0}]),[l,o]=(0,t.useState)(!1),c=r=>{a({...e,[r.target.name]:r.target.value})},p=(e,a,s)=>{let t=[...r],i={...t[e]};"description"===a?i.description=s:"quantity"===a?i.quantity=Number(s):"price"===a&&(i.price=Number(s)),t[e]=i,n(t)},h=r.reduce((e,a)=>e+a.quantity*a.price,0),m=async()=>{let e=document.getElementById("invoice-preview");if(e){let a=e.className;e.className=a.split(" ").filter(e=>!e.startsWith("bg-")).join(" ");let r=await d()(e,{scale:2});e.className=a;let s=r.toDataURL("image/png"),t=new i.Ay({orientation:"portrait",unit:"mm",format:"a4"}),n=t.getImageProperties(s),l=190*n.height/n.width;t.addImage(s,"PNG",10,10,190,l),t.save("fatura.pdf")}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Simulador de Fatura"}),(0,s.jsxs)("div",{className:"grid gap-4 mb-6",children:[(0,s.jsx)("input",{className:"border p-2 rounded",name:"name",placeholder:"Nome do Cliente",value:e.name,onChange:c}),(0,s.jsx)("input",{className:"border p-2 rounded",name:"nif",placeholder:"NIF",value:e.nif,onChange:c}),(0,s.jsx)("input",{className:"border p-2 rounded",name:"address",placeholder:"Morada",value:e.address,onChange:c})]}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Itens da Fatura"}),r.map((e,a)=>(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[(0,s.jsx)("input",{className:"border p-2 rounded",placeholder:"Descri\xe7\xe3o",value:e.description,onChange:e=>p(a,"description",e.target.value)}),(0,s.jsx)("input",{type:"number",className:"border p-2 rounded",placeholder:"Quantidade",value:e.quantity,onChange:e=>p(a,"quantity",e.target.value)}),(0,s.jsx)("input",{type:"number",className:"border p-2 rounded",placeholder:"Pre\xe7o",value:e.price,onChange:e=>p(a,"price",e.target.value)})]},a)),(0,s.jsx)("button",{onClick:()=>{n([...r,{description:"",quantity:1,price:0}])},className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Adicionar Item"}),(0,s.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,s.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Gerar Fatura"}),(0,s.jsx)("button",{onClick:()=>{a({name:"",nif:"",address:""}),n([{description:"",quantity:1,price:0}]),o(!1)},className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 transition-colors",children:"Limpar"})]}),l&&(0,s.jsxs)("div",{id:"invoice-preview",className:"invoice-preview-pdf border rounded p-6 bg-white shadow-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Pr\xe9-Visualiza\xe7\xe3o da Fatura"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Cliente:"})," ",e.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"NIF:"})," ",e.nif]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Morada:"})," ",e.address]}),(0,s.jsxs)("table",{className:"w-full mt-4 text-left border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border-b p-2",children:"Descri\xe7\xe3o"}),(0,s.jsx)("th",{className:"border-b p-2",children:"Quantidade"}),(0,s.jsx)("th",{className:"border-b p-2",children:"Pre\xe7o"}),(0,s.jsx)("th",{className:"border-b p-2",children:"Total"})]})}),(0,s.jsx)("tbody",{children:r.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"p-2 border-b",children:e.description}),(0,s.jsx)("td",{className:"p-2 border-b",children:e.quantity}),(0,s.jsxs)("td",{className:"p-2 border-b",children:["€",e.price.toFixed(2)]}),(0,s.jsxs)("td",{className:"p-2 border-b",children:["€",(e.quantity*e.price).toFixed(2)]})]},a))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{colSpan:3,className:"text-right font-bold p-2",children:"Total:"}),(0,s.jsxs)("td",{className:"p-2 font-bold",children:["€",h.toFixed(2)]})]})})]}),(0,s.jsx)("button",{onClick:m,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Exportar PDF"})]})]})}},89959:(e,a,r)=>{Promise.resolve().then(r.bind(r,79665))}},e=>{e.O(0,[930,316,913,441,964,358],()=>e(e.s=89959)),_N_E=e.O()}]);